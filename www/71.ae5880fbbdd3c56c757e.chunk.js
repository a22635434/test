webpackJsonp([71],{"8whn":function(l,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var u=t("LMZF"),e=function(){},a=t("wywC"),o=t("PGCm"),r=t("AMGi"),i=t("NDpq"),c=t("Un6q"),s=t("Cc2W"),_=t("RyBE"),p=t("1wLq"),f=t("MHxS"),d=t("Er7T"),g=t("FK32"),h=t("6Xbx"),m=t("rM26"),y=t("E+l/"),v=function(l){function n(){var n=null!==l&&l.apply(this,arguments)||this;return n.fundGroupSettings={},n.watchList=[],n.focusFundTagList={},n.groupFundData=[],n.isResultShow=!1,n.rateOfReturnLabel=getBundleString("3\u500b\u6708\u7d2f\u7a4d\u5831\u916c\u7387","mf_ag002.00000337"),n.rateOfReturn=[],n.rateOfReturnKey="threeMonth",n.aemGet=!1,n}return Object(h.__extends)(n,l),n.prototype.pageHandleOpenUrl=function(l){this.outerProdNo=l.prod_no||""},n.prototype.init=function(n){var t=this;l.prototype.changePageTitle.call(this,getBundleString("\u6211\u7684\u89c0\u5bdf\u6e05\u55ae","mf_ag002.00002555")),l.prototype.getAEMJson.call(this,"TWRBMMfQU002_fundgroupsettings",function(u){((u||{}).list||[]).map(function(l){t.fundGroupSettings[l.groupId]=l}),t.rateOfReturn.push({key:"threeMonth",name:getBundleString("3\u500b\u6708","mf_ag002.00000330")}),t.rateOfReturn.push({key:"sixMonth",name:getBundleString("6\u500b\u6708","mf_ag002.00000370")}),t.rateOfReturn.push({key:"oneYear",name:getBundleString("1\u5e74","mf_ag002.00000237")}),t.rateOfReturn.push({key:"twoYear",name:getBundleString("2\u5e74","mf_ag002.00000287")}),t.rateOfReturn.push({key:"threeYear",name:getBundleString("3\u5e74","mf_ag002.00000342")}),t.rateOfReturn.push({key:"all",name:getBundleString("\u6210\u7acb\u81f3\u4eca","mf_ag002.00002533")}),l.prototype.getAEMJson.call(t,"TWRBMMfQU002_groupfunddata",function(u){t.groupFundData=u.list,t.outerProdNo?t.addOpenUrlWatchItem(n.watchList):(t.organizeWatchList(n.watchList),l.prototype.hideLoader.call(t))}),l.prototype.getAEMJson.call(t,"TWRBMMfQU002_no_data_memo",function(l){t.aemGet=!0,y.a.isNull(l)||(t.noDataMemo=l.remark||"")})})},n.prototype.organizeWatchList=function(l){for(var n=0,t=l;n<t.length;n++){var u=t[n],e=this.getFocusFundTags(u.prodNo);this.focusFundTagList[u.prodNo]=e||[]}this.isResultShow=l.length>0,this.watchList=l},n.prototype.addOpenUrlWatchItem=function(n){var t=this,u={fundNo:this.outerProdNo,localClassLipperId:"",prodType:"1"};l.prototype.getUtils.call(this).addWatchItem(u).then(function(n){l.prototype.showLoader.call(t),l.prototype.sendAndReceiveAsync.call(t,"/twrbm-mf/ag002/010",{}).then(function(n){t.organizeWatchList(n.watchList),l.prototype.hideLoader.call(t)}).catch(function(n){l.prototype.handleResponseError.call(t,n),l.prototype.hideLoader.call(t)})}).catch(function(l){t.organizeWatchList(n)})},n.prototype.addOrRmWatchItem=function(n,t){var u=this;l.prototype.preventEvent.call(this,n,function(){var n={fundNo:u.watchList[t].prodNo,localClassLipperId:u.watchList[t].localClassLipperId,prodType:"1"};console.log(n),u.watchList[t].noActive?l.prototype.getUtils.call(u).addWatchItem(n).then(function(l){u.watchList[t].noActive=!1}).catch(function(l){}):l.prototype.getUtils.call(u).rmWatchItem(n).then(function(l){l&&(u.watchList[t].noActive=!0)})})},n.prototype.showSelectModal=function(n,t){var u=this;l.prototype.preventEvent.call(this,n,function(){t.showModal(t.getFocusIndex(),function(){for(var l=[],n=0;n<u.rateOfReturn.length;n++)l.push(u.rateOfReturn[n].name+getBundleString("\u7d2f\u7a4d\u5831\u916c\u7387","mf_ag002.00004217"));return l},function(l){u.clickRateOfReturnSelectItem(l)})})},n.prototype.clickRateOfReturnSelectItem=function(l){this.rateOfReturnLabel=this.rateOfReturn[l].name+getBundleString("\u7d2f\u7a4d\u5831\u916c\u7387","mf_ag002.00004217"),this.rateOfReturnKey=this.rateOfReturn[l].key,this.watchList.sort(this.sortFundDataList())},n.prototype.sortFundDataList=function(){var l=this.rateOfReturnKey;return function(n,t){var u,e=n.StatDailyResponse[l],a=t.StatDailyResponse[l],o=n.prodNo,r=t.prodNo;return e=y.a.isBlank(e)?"-100":e.replace(/,/g,""),a=y.a.isBlank(a)?"-100":a.replace(/,/g,""),0==(u=parseFloat(a)/100-parseFloat(e)/100)&&(u=parseFloat(o)-parseFloat(r)),u}},n.prototype.getRateOfReturnColor=function(l){return y.a.isBlank(l)?"":parseFloat(l)>=0?"txt_green":"txt_imp"},n.prototype.goFundDetail=function(n,t,u){var e=this;l.prototype.preventEvent.call(this,n,function(){l.prototype.nextPage.call(e,"/twrbm-mf/qu002/020",{fundNo:t,localClassLipperId:u,doLog:"Y"},!0)})},n.prototype.getFocusFundTags=function(l){for(var n=this,t=[],u=0;u<this.groupFundData.length;u++)this.groupFundData[u].fundId==l&&t.push(this.groupFundData[u].groupId);return t.filter(function(l){return y.a.isNotNullOrNotEmptyObject(n.fundGroupSettings[l])}).sort(function(l,t){return parseFloat(n.fundGroupSettings[l].orderNo)-parseFloat(n.fundGroupSettings[t].orderNo)}).slice(0,3).map(function(l){return n.fundGroupSettings[l].groupName})},n.prototype.goTxnAg009=function(n){var t=this;l.prototype.preventEvent.call(this,n,function(){l.prototype.changeTxn.call(t,"/twrbm-notice/ag020/010",{},!0)})},n.prototype.ignoreInitHideLoader=function(){return!0},n.prototype.pageReuse=function(l){for(var n=0,t=this.watchList;n<t.length;n++){var u=t[n];u.prodNo==l.prodNo&&(u.noActive=!l.heart)}},n}(m.a),b=u._3({encapsulation:0,styles:[[""]],data:{}});function R(l){return u._29(0,[(l()(),u._5(0,0,null,null,1,"div",[["class","container pad_top30 demo-toggle forAEM"]],[[8,"innerHTML",1]],null,null,null,null)),u._23(1,1)],null,function(l,n){var t=n.component;l(n,0,0,u._28(n,0,0,l(n,1,0,u._19(n.parent,0),t.noDataMemo)))})}function w(l){return u._29(0,[(l()(),u._5(0,0,null,null,7,"div",[["class","pad_15 demo-toggle"]],null,null,null,null,null)),(l()(),u._27(-1,null,["\n\t\t\t\t"])),(l()(),u._5(2,0,null,null,4,"a",[["class","btn btn-round mb0"]],null,[[null,"click"]],function(l,n,t){var u=!0;return"click"===n&&(u=!1!==l.component.goTxnAg009(t)&&u),u},null,null)),(l()(),u._5(3,0,null,null,3,"i18n",[["translate","mf_ag002.00003518"]],null,null,null,a.b,a.a)),u._4(4,81920,null,0,o.a,[u.k,r.b],{bundleKey:[0,"bundleKey"]},null),u._4(5,114688,null,0,i.a,[],null,null),(l()(),u._27(-1,null,["\u6a19\u7684\u6f32\u8dcc\u901a\u77e5\u8a2d\u5b9a"])),(l()(),u._27(-1,null,["\n\t\t\t"]))],function(l,n){l(n,4,0,"mf_ag002.00003518"),l(n,5,0)},null)}function L(l){return u._29(0,[(l()(),u._5(0,0,null,null,5,"p",[["class","date date-in-container"]],null,null,null,null,null)),(l()(),u._5(1,0,null,null,3,"i18n",[["translate","mf_ag002.00005435"]],null,null,null,a.b,a.a)),u._4(2,81920,null,0,o.a,[u.k,r.b],{bundleKey:[0,"bundleKey"]},null),u._4(3,114688,null,0,i.a,[],null,null),(l()(),u._27(-1,null,["\u8cc7\u6599\u4f86\u6e90:Lipper,\u622a\u81f3"])),(l()(),u._27(5,null,["",""]))],function(l,n){l(n,2,0,"mf_ag002.00005435"),l(n,3,0)},function(l,n){var t=n.component;l(n,5,0,null==t.watchList[0]?null:null==t.watchList[0].StatDailyResponse?null:t.watchList[0].StatDailyResponse.dataTime)})}function O(l){return u._29(0,[(l()(),u._5(0,0,null,null,12,null,null,null,null,null,null,null)),(l()(),u._27(-1,null,["\n\t\t\t\t\t\t\t\t\t\t"])),(l()(),u._5(2,0,null,null,3,"i18n",[["translate","mf_ag002.00001709"]],null,null,null,a.b,a.a)),u._4(3,81920,null,0,o.a,[u.k,r.b],{bundleKey:[0,"bundleKey"]},null),u._4(4,114688,null,0,i.a,[],null,null),(l()(),u._27(-1,null,["\u55ae\u7b46"])),(l()(),u._5(6,0,null,null,1,"span",[],[[4,"color",null]],null,null,null,null)),(l()(),u._27(7,null,["",""])),(l()(),u._5(8,0,null,null,3,"i18n",[["translate","mf_ag002.00002823"]],null,null,null,a.b,a.a)),u._4(9,81920,null,0,o.a,[u.k,r.b],{bundleKey:[0,"bundleKey"]},null),u._4(10,114688,null,0,i.a,[],null,null),(l()(),u._27(-1,null,["\u6298\xa0"])),(l()(),u._27(-1,null,["\n\t\t\t\t\t\t\t\t\t"]))],function(l,n){l(n,3,0,"mf_ag002.00001709"),l(n,4,0),l(n,9,0,"mf_ag002.00002823"),l(n,10,0)},function(l,n){l(n,6,0,"red"),l(n,7,0,n.parent.context.$implicit.singleDiscount)})}function N(l){return u._29(0,[(l()(),u._5(0,0,null,null,12,null,null,null,null,null,null,null)),(l()(),u._27(-1,null,["\n\t\t\t\t\t\t\t\t\t\t"])),(l()(),u._5(2,0,null,null,3,"i18n",[["translate","mf_ag002.00001977"]],null,null,null,a.b,a.a)),u._4(3,81920,null,0,o.a,[u.k,r.b],{bundleKey:[0,"bundleKey"]},null),u._4(4,114688,null,0,i.a,[],null,null),(l()(),u._27(-1,null,["\u5b9a\u671f(\u4e0d)\u5b9a\u984d"])),(l()(),u._5(6,0,null,null,1,"span",[],[[4,"color",null]],null,null,null,null)),(l()(),u._27(7,null,["",""])),(l()(),u._5(8,0,null,null,3,"i18n",[["translate","mf_ag002.00002831"]],null,null,null,a.b,a.a)),u._4(9,81920,null,0,o.a,[u.k,r.b],{bundleKey:[0,"bundleKey"]},null),u._4(10,114688,null,0,i.a,[],null,null),(l()(),u._27(-1,null,["\u6298\u8d77"])),(l()(),u._27(-1,null,["\n\t\t\t\t\t\t\t\t\t"]))],function(l,n){l(n,3,0,"mf_ag002.00001977"),l(n,4,0),l(n,9,0,"mf_ag002.00002831"),l(n,10,0)},function(l,n){l(n,6,0,"red"),l(n,7,0,n.parent.context.$implicit.autBuyDiscount)})}function S(l){return u._29(0,[(l()(),u._5(0,0,null,null,1,"li",[],null,null,null,null,null)),(l()(),u._27(1,null,["",""]))],null,function(l,n){l(n,1,0,n.context.$implicit)})}function F(l){return u._29(0,[(l()(),u._5(0,0,null,null,4,"ul",[["class","badge-list"]],null,null,null,null,null)),(l()(),u._27(-1,null,["\n\t\t\t\t\t\t\t\t\t\t"])),(l()(),u._0(16777216,null,null,1,null,S)),u._4(3,802816,null,0,c.l,[u.N,u.K,u.q],{ngForOf:[0,"ngForOf"]},null),(l()(),u._27(-1,null,["\n\t\t\t\t\t\t\t\t\t"]))],function(l,n){l(n,3,0,n.component.focusFundTagList[n.parent.context.$implicit.prodNo])},null)}function I(l){return u._29(0,[(l()(),u._5(0,0,null,null,52,"li",[],null,null,null,null,null)),(l()(),u._27(-1,null,["\n\t\t\t\t\t"])),(l()(),u._5(2,0,null,null,26,"a",[["class","arrow-up"]],null,[[null,"click"]],function(l,n,t){var u=!0;return"click"===n&&(u=!1!==l.component.goFundDetail(t,l.context.$implicit.prodNo,l.context.$implicit.localClassLipperId)&&u),u},null,null)),(l()(),u._27(-1,null,["\n\t\t\t\t\t\t"])),(l()(),u._5(4,0,null,null,23,"div",[["class","div-tb mb10"]],null,null,null,null,null)),(l()(),u._27(-1,null,["\n\t\t\t\t\t\t\t"])),(l()(),u._5(6,0,null,null,18,"div",[["class","td"]],null,null,null,null,null)),(l()(),u._27(-1,null,["\n\t\t\t\t\t\t\t\t"])),(l()(),u._5(8,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),u._27(9,null,["",""])),(l()(),u._27(-1,null,["\n\t\t\t\t\t\t\t\t"])),(l()(),u._5(11,0,null,null,7,"p",[["class","txt_gray"]],null,null,null,null,null)),(l()(),u._27(-1,null,["\n\t\t\t\t\t\t\t\t\t"])),(l()(),u._0(16777216,null,null,1,null,O)),u._4(14,16384,null,0,c.m,[u.N,u.K],{ngIf:[0,"ngIf"]},null),(l()(),u._27(-1,null,["\n\t\t\t\t\t\t\t\t\t"])),(l()(),u._0(16777216,null,null,1,null,N)),u._4(17,16384,null,0,c.m,[u.N,u.K],{ngIf:[0,"ngIf"]},null),(l()(),u._27(-1,null,["\n\t\t\t\t\t\t\t\t"])),(l()(),u._27(-1,null,["\n\t\t\t\t\t\t\t\t"])),(l()(),u._5(20,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),u._27(-1,null,["\n\t\t\t\t\t\t\t\t\t"])),(l()(),u._0(16777216,null,null,1,null,F)),u._4(23,16384,null,0,c.m,[u.N,u.K],{ngIf:[0,"ngIf"]},null),(l()(),u._27(-1,null,["\n\t\t\t\t\t\t\t"])),(l()(),u._27(-1,null,["\n\t\t\t\t\t\t\t"])),(l()(),u._5(26,0,null,null,0,"div",[["class","td wid_15px"]],null,null,null,null,null)),(l()(),u._27(-1,null,["\n\t\t\t\t\t\t"])),(l()(),u._27(-1,null,["\n\t\t\t\t\t"])),(l()(),u._27(-1,null,["\n\t\t\t\t\t"])),(l()(),u._5(30,0,null,null,0,"div",[["class","clearfix mb10"]],null,null,null,null,null)),(l()(),u._27(-1,null,["\n\t\t\t\t\t"])),(l()(),u._5(32,0,null,null,19,"div",[["class","div-tb"]],null,null,null,null,null)),(l()(),u._27(-1,null,["\n\t\t\t\t\t\t"])),(l()(),u._5(34,0,null,null,8,"div",[["class","td"]],null,null,null,null,null)),(l()(),u._27(-1,null,["\n\t\t\t\t\t\t\t"])),(l()(),u._5(36,0,null,null,5,"div",[["class","post-hot"]],null,[[null,"click"]],function(l,n,t){var u=!0;return"click"===n&&(u=!1!==l.component.addOrRmWatchItem(t,l.context.index)&&u),u},null,null)),u._4(37,278528,null,0,c.k,[u.q,u.r,u.k,u.C],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),u._22(38,{active:0}),(l()(),u._27(-1,null,["\n\t\t\t\t\t\t\t\t"])),(l()(),u._5(40,0,null,null,0,"i",[],null,null,null,null,null)),(l()(),u._27(41,null,[" ","\n\t\t\t\t\t\t\t"])),(l()(),u._27(-1,null,["\n\t\t\t\t\t\t"])),(l()(),u._27(-1,null,["\n\t\t\t\t\t\t"])),(l()(),u._5(44,0,null,null,4,"div",[["class","td rt"]],null,null,null,null,null)),(l()(),u._27(-1,null,["\n\t\t\t\t\t\t\t"])),(l()(),u._5(46,0,null,null,1,"span",[],[[8,"className",0]],null,null,null,null)),(l()(),u._27(47,null,["\n\t\t\t\t\t\t\t",""])),(l()(),u._27(-1,null,["\n\t\t\t\t\t\t"])),(l()(),u._27(-1,null,["\n\t\t\t\t\t\t"])),(l()(),u._5(50,0,null,null,0,"div",[["class","td wid_15px"]],null,null,null,null,null)),(l()(),u._27(-1,null,["\n\t\t\t\t\t"])),(l()(),u._27(-1,null,["\n\t\t\t\t"]))],function(l,n){var t=n.component;l(n,14,0,"Y"==n.context.$implicit.singleDiscountFlag),l(n,17,0,"Y"==n.context.$implicit.autBuyDiscountFlag),l(n,23,0,t.focusFundTagList[n.context.$implicit.prodNo].length>0),l(n,37,0,"post-hot",l(n,38,0,!n.context.$implicit.noActive))},function(l,n){var t=n.component;l(n,9,0,n.context.$implicit.prodCName),l(n,41,0,n.context.$implicit.prodNo),l(n,46,0,t.getRateOfReturnColor(n.context.$implicit.StatDailyResponse[t.rateOfReturnKey])),l(n,47,0,n.context.$implicit.StatDailyResponse[t.rateOfReturnKey]?n.context.$implicit.StatDailyResponse[t.rateOfReturnKey]:"-")})}function k(l){return u._29(0,[(l()(),u._5(0,0,null,null,16,"ul",[["class","card-list reduse-one"]],null,null,null,null,null)),(l()(),u._27(-1,null,["\n\t\t\t\t"])),(l()(),u._5(2,0,null,null,10,"li",[["class","title arrow-down"]],null,null,null,null,null)),(l()(),u._27(-1,null,["\n\t\t\t\t\t"])),(l()(),u._5(4,0,null,null,7,"div",[["class","div-tb"]],null,null,null,null,null)),(l()(),u._27(-1,null,["\n\t\t\t\t\t\t"])),(l()(),u._5(6,0,null,null,4,"div",[["class","td rt"]],null,null,null,null,null)),(l()(),u._27(-1,null,["\n\t\t\t\t\t\t\t"])),(l()(),u._5(8,0,null,null,1,"a",[],null,[[null,"click"]],function(l,n,t){var e=!0;return"click"===n&&(e=!1!==l.component.showSelectModal(t,u._19(l.parent,24))&&e),e},null,null)),(l()(),u._27(9,null,["","%"])),(l()(),u._27(-1,null,["\n\t\t\t\t\t\t"])),(l()(),u._27(-1,null,["\n\t\t\t\t\t"])),(l()(),u._27(-1,null,["\n\t\t\t\t"])),(l()(),u._27(-1,null,["\n\t\t\t\t"])),(l()(),u._0(16777216,null,null,1,null,I)),u._4(15,802816,null,0,c.l,[u.N,u.K,u.q],{ngForOf:[0,"ngForOf"]},null),(l()(),u._27(-1,null,["\n\t\t\t"]))],function(l,n){l(n,15,0,n.component.watchList)},function(l,n){l(n,9,0,n.component.rateOfReturnLabel)})}function x(l){return u._29(0,[u._21(0,s.a,[_.c]),(l()(),u._5(1,0,null,null,24,"div",[["class","body-wrap  scroll bg_white"]],null,null,null,null,null)),(l()(),u._27(-1,null,["\n\t"])),(l()(),u._5(3,0,null,null,18,"animation",[],null,null,null,p.b,p.a)),u._4(4,114688,null,0,f.a,[],{state:[0,"state"]},null),(l()(),u._27(-1,0,["\n\t\t"])),(l()(),u._5(6,0,null,0,13,"div",[["class","main_container"]],null,null,null,null,null)),(l()(),u._27(-1,null,["\n\t\t\t"])),(l()(),u._0(16777216,null,null,1,null,R)),u._4(9,16384,null,0,c.m,[u.N,u.K],{ngIf:[0,"ngIf"]},null),(l()(),u._27(-1,null,["\n\t\t\t"])),(l()(),u._0(16777216,null,null,1,null,w)),u._4(12,16384,null,0,c.m,[u.N,u.K],{ngIf:[0,"ngIf"]},null),(l()(),u._27(-1,null,["\n\t\t\t"])),(l()(),u._0(16777216,null,null,1,null,L)),u._4(15,16384,null,0,c.m,[u.N,u.K],{ngIf:[0,"ngIf"]},null),(l()(),u._27(-1,null,["\n\t\t\t"])),(l()(),u._0(16777216,null,null,1,null,k)),u._4(18,16384,null,0,c.m,[u.N,u.K],{ngIf:[0,"ngIf"]},null),(l()(),u._27(-1,null,["\n\t\t"])),(l()(),u._27(-1,0,["\n\t\t"])),(l()(),u._27(-1,0,["\n\t"])),(l()(),u._27(-1,null,["\n\t"])),(l()(),u._5(23,0,null,null,1,"modal-select",[],null,null,null,d.b,d.a)),u._4(24,4964352,[["rateOfReturnSelectModalRef",4]],0,g.a,[],null,null),(l()(),u._27(-1,null,["\n"])),(l()(),u._27(-1,null,["\n"]))],function(l,n){var t=n.component;l(n,4,0,t.animateState),l(n,9,0,!t.isResultShow&&t.aemGet),l(n,12,0,t.isResultShow),l(n,15,0,t.isResultShow),l(n,18,0,t.isResultShow),l(n,24,0)},null)}var M=u._1("twrbm-mf-ag002-010",v,function(l){return u._29(0,[(l()(),u._5(0,0,null,null,1,"twrbm-mf-ag002-010",[],null,null,null,x,b)),u._4(1,4440064,null,0,v,[],null,null)],function(l,n){l(n,1,0)},null)},{},{},[]),K=t("0nO6"),D=t("TvUf"),B=t("4SdM"),T=t("UtI1"),W=t("v7k6"),A=t("Xb6M"),$=t("3glH"),C=t("UHIZ"),E=function(){};t.d(n,"TWRBMMFAG002ModuleNgFactory",function(){return U});var U=u._2(e,[],function(l){return u._16([u._17(512,u.j,u.X,[[8,[M]],[3,u.j],u.v]),u._17(4608,c.o,c.n,[u.s,[2,c.x]]),u._17(4608,K.B,K.B,[]),u._17(4608,K.g,K.g,[]),u._17(512,c.b,c.b,[]),u._17(512,K.y,K.y,[]),u._17(512,K.l,K.l,[]),u._17(512,K.w,K.w,[]),u._17(512,D.a,D.a,[]),u._17(512,B.a,B.a,[]),u._17(512,T.a,T.a,[]),u._17(512,W.a,W.a,[]),u._17(512,A.a,A.a,[]),u._17(512,$.a,$.a,[]),u._17(512,C.l,C.l,[[2,C.q],[2,C.k]]),u._17(512,E,E,[]),u._17(512,e,e,[]),u._17(1024,C.i,function(){return[[{path:"",redirectTo:"010",pathMatch:"full"},{path:"010",component:v}]]},[])])})}});