webpackJsonp([41],{DgL2:function(l,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var u=t("LMZF"),i=function(){},e=t("wywC"),a=t("PGCm"),o=t("AMGi"),s=t("NDpq"),c=t("Un6q"),r=t("xllO"),g=t("I4HG"),_=t("6Xbx"),h=function(l){function n(){var n=null!==l&&l.apply(this,arguments)||this;return n.exceptedCode="9000",n.warningMsg="",n.notice={isEmailFlagOn:!1,isPushFlagOn:!1,init:function(l,n){this.isEmailFlagOn=l,this.isPushFlagOn=n},turnOnEmailFlag:function(){this.isEmailFlagOn=!0},turnOffEmailFlag:function(){this.isEmailFlagOn=!1},turnOnPushFlag:function(){this.isPushFlagOn=!0},turnOffPushFlag:function(){this.isPushFlagOn=!1},turnOnNoticeFlag:function(){this.turnOnEmailFlag(),this.turnOnPushFlag()},turnOffNoticeFlag:function(){this.turnOffEmailFlag(),this.turnOffPushFlag()}},n.orgNotice={isEmailFlagOn:!1,isPushFlagOn:!1,init:function(l,n){this.isEmailFlagOn=l,this.isPushFlagOn=n}},n.hasInit=!1,n.changedCount=0,n}return Object(_.__extends)(n,l),n.prototype.init=function(n){var t=this;l.prototype.changePageTitle.call(this,getBundleString("\u57fa\u91d1\u89c0\u5bdf\u4e2d\u6a19\u7684\u6f32\u8dcc\u901a\u77e5\u7ba1\u9053","notice_ag009.00001812")),setTimeout(function(){l.prototype.showLoader.call(t),t.preparedPrepageData()},500)},n.prototype.preparedPrepageData=function(){var n=this,t=!0,u=l.prototype.getSharedService.call(this).getNoticeItemsCfg();if(u){if(u.status&&u.status.ag009&&u.status.ag009.desc)return void this.mightBeToErrorPage(u.status.ag009);if(u.invest&&u.invest.ag009)return void this.initialValues(u.invest.ag009)}l.prototype.getEventService.call(this).getNoticeItemCfgSubject().subscribe(function(l){t=!1,(u=l).status&&u.status.ag009&&u.status.ag009.desc?n.mightBeToErrorPage(u.status.ag009):u.invest&&u.invest.ag009?n.initialValues(u.invest.ag009):n.getNoticeItem()},function(t){return l.prototype.error.call(n,t)},function(){if(l.prototype.getEventService.call(n).getNoticeItemCfgSubject())try{l.prototype.getEventService.call(n).getNoticeItemCfgSubject().unsubscribe()}catch(t){l.prototype.error.call(n,t)}}),t&&this.getNoticeItem()},n.prototype.getNoticeItem=function(){var n=this;l.prototype.sendAndReceiveAsync.call(this,"/twrbm-notice/ag001/011",{noticeItem:"ag009"}).then(function(l){return n.initialValues(l)},function(l){return n.mightBeToErrorPage(l)})},n.prototype.initialValues=function(n){console.log(n),this.orgNotice.init("1"===n.emailFlag,"1"===n.pushFlag),this.notice.init("1"===n.emailFlag,"1"===n.pushFlag),l.prototype.hideLoader.call(this),this.hasInit=!0},n.prototype.mightBeToErrorPage=function(n){n.code&&n.code===this.exceptedCode||l.prototype.handleResponseError.call(this,n)},n.prototype.chgEmailFlag=function(){this.notice.isEmailFlagOn?this.notice.turnOffEmailFlag():this.notice.turnOnEmailFlag(),this.warningMsg=""},n.prototype.chgPushFlag=function(){this.notice.isPushFlagOn?this.notice.turnOffPushFlag():this.notice.turnOnPushFlag(),this.warningMsg=""},n.prototype.save=function(){var n=this,t={isEmailFlagOn:this.notice.isEmailFlagOn,isPushFlagOn:this.notice.isPushFlagOn};if(console.log(t),this.notice.isEmailFlagOn||this.notice.isPushFlagOn)if(this.unchangedChecking())l.prototype.showAlert.call(this,getBundleString("\u60a8\u672a\u7570\u52d5\u4efb\u4f55\u8a2d\u5b9a\uff0c\u8acb\u518d\u6b21\u78ba\u8a8d","notice_ag009.00002417"),null,null,getBundleString("\u6211\u77e5\u9053\u4e86","notice_ag009.00002572"));else{var u=getBundleString("\u60a8\u7684\u57fa\u91d1\u89c0\u5bdf\u4e2d\u6a19\u7684\u6f32\u8dcc\u901a\u77e5\u7ba1\u9053\u5c07\u900f\u904e","notice_ag009.00002430")+this.showNoticeMessage(this.notice)+getBundleString("\u901a\u77e5\u60a8\uff0c\u8acb\u78ba\u8a8d\u662f\u5426\u8981\u9032\u884c\u672c\u6b21\u8a2d\u5b9a\uff1f","notice_ag009.00005777");l.prototype.showConfirm.call(this,u,function(l){n.doSave(t),l()})}else this.warningMsg=getBundleString("\u8acb\u81f3\u5c11\u9078\u64c7\u4e00\u500b\u7ba1\u9053","notice_ag009.00004959")},n.prototype.showNoticeMessage=function(l){var n=[];return l.isEmailFlagOn&&n.push("Email"),l.isPushFlagOn&&n.push(getBundleString("\u624b\u6a5f\u63a8\u64ad","notice_ag009.00002627")),l.isLineFlagOn&&n.push("LINE"),l.isCardBonusFlagOn&&n.push(getBundleString("\u4e2d\u4fe1\u5361\u512a\u60e0","notice_ag009.00000665")),n.join("\u3001")},n.prototype.doSave=function(n){var t=this;l.prototype.sendAndReceiveAsync.call(this,"/twrbm-notice/ag009/011",n).then(function(n){l.prototype.getSharedService.call(t).clearNoticeItemsCfg(),t.orgNotice.init(t.notice.isEmailFlagOn,t.notice.isPushFlagOn),t.changedCount++,l.prototype.showToast.call(t,getBundleString("\u8a2d\u5b9a\u6210\u529f","notice_ag009.00004713"))},function(n){l.prototype.handleResponseError.call(t,n)})},n.prototype.pageBack=function(){var n=this,t=this.changedCount>0?{chgType:"invest",key:"ag009",notice:this.notice}:{notice:this.notice};this.unchangedChecking()?l.prototype.previousPage.call(this,1,!1,t):l.prototype.showConfirm.call(this,getBundleString("\u60a8\u5c1a\u672a\u5132\u5b58\u6b64\u6b21\u8a2d\u5b9a\uff0c\u78ba\u5b9a\u8981\u53d6\u6d88\u8a2d\u5b9a\uff1f","notice_ag009.00002318"),function(u){l.prototype.previousPage.call(n,1,!1,t),u()},function(l){return l()})},n.prototype.unchangedChecking=function(){return this.notice.isEmailFlagOn===this.orgNotice.isEmailFlagOn&&this.notice.isPushFlagOn===this.orgNotice.isPushFlagOn},n.prototype.doClick=function(n,t,u){var i=this;l.prototype.preventEvent.call(this,n,function(){return i[t](u)})},n.prototype.ignoreInitHideLoader=function(){return!0},n}(t("rM26").a),p=u._3({encapsulation:0,styles:[["a.disabled[_ngcontent-%COMP%]{cursor:not-allowed;pointer-events:none}"]],data:{}});function d(l){return u._29(0,[(l()(),u._5(0,0,null,null,81,"div",[["class","body-wrap scroll white"]],null,null,null,null,null)),(l()(),u._27(-1,null,["\n    "])),(l()(),u._5(2,0,null,null,78,"div",[["class","main_container"]],null,null,null,null,null)),(l()(),u._27(-1,null,["\n        "])),(l()(),u._27(-1,null,["\n        "])),(l()(),u._27(-1,null,["\n        "])),(l()(),u._5(6,0,null,null,52,"ul",[["class","card-list reduse"]],null,null,null,null,null)),(l()(),u._27(-1,null,["\n            "])),(l()(),u._5(8,0,null,null,49,"li",[],null,null,null,null,null)),(l()(),u._27(-1,null,["\n                "])),(l()(),u._5(10,0,null,null,38,"div",[["class","div-tb"]],null,null,null,null,null)),(l()(),u._27(-1,null,["\n                    "])),(l()(),u._5(12,0,null,null,7,"div",[["class","td vmid wid_40per"]],null,null,null,null,null)),(l()(),u._27(-1,null,["\n                        "])),(l()(),u._5(14,0,null,null,4,"div",[],null,null,null,null,null)),(l()(),u._5(15,0,null,null,3,"i18n",[["translate","notice_ag009.00005789"]],null,null,null,e.b,e.a)),u._4(16,81920,null,0,a.a,[u.k,o.b],{bundleKey:[0,"bundleKey"]},null),u._4(17,114688,null,0,s.a,[],null,null),(l()(),u._27(-1,null,["\u901a\u77e5\u7ba1\u9053"])),(l()(),u._27(-1,null,["\n                    "])),(l()(),u._27(-1,null,["\n                    "])),(l()(),u._5(21,0,null,null,26,"div",[["class","td rt vmid"]],null,null,null,null,null)),(l()(),u._27(-1,null,["\n                        "])),(l()(),u._5(23,0,null,null,23,"ul",[["class","foot-link for-list pull-right"]],null,null,null,null,null)),(l()(),u._27(-1,null,["\n                            "])),(l()(),u._5(25,0,null,null,5,"li",[["class","word"]],null,null,null,null,null)),(l()(),u._5(26,0,null,null,3,"a",[],null,[[null,"click"]],function(l,n,t){var u=!0;return"click"===n&&(u=!1!==l.component.doClick(t,"chgEmailFlag")&&u),u},null,null)),u._4(27,278528,null,0,c.k,[u.q,u.r,u.k,u.C],{ngClass:[0,"ngClass"]},null),u._22(28,{active:0}),(l()(),u._27(-1,null,["Email"])),(l()(),u._27(-1,null,["\n                            "])),(l()(),u._27(-1,null,["\n                            "])),(l()(),u._5(32,0,null,null,13,"li",[["class","word"]],null,null,null,null,null)),(l()(),u._5(33,0,null,null,11,"a",[],null,[[null,"click"]],function(l,n,t){var u=!0;return"click"===n&&(u=!1!==l.component.doClick(t,"chgPushFlag")&&u),u},null,null)),u._4(34,278528,null,0,c.k,[u.q,u.r,u.k,u.C],{ngClass:[0,"ngClass"]},null),u._22(35,{active:0}),(l()(),u._5(36,0,null,null,3,"i18n",[["translate","notice_ag009.00002612"]],null,null,null,e.b,e.a)),u._4(37,81920,null,0,a.a,[u.k,o.b],{bundleKey:[0,"bundleKey"]},null),u._4(38,114688,null,0,s.a,[],null,null),(l()(),u._27(-1,null,["\u624b\u6a5f"])),(l()(),u._5(40,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),u._5(41,0,null,null,3,"i18n",[["translate","notice_ag009.00002891"]],null,null,null,e.b,e.a)),u._4(42,81920,null,0,a.a,[u.k,o.b],{bundleKey:[0,"bundleKey"]},null),u._4(43,114688,null,0,s.a,[],null,null),(l()(),u._27(-1,null,["\u63a8\u64ad"])),(l()(),u._27(-1,null,["\n                            "])),(l()(),u._27(-1,null,["\n                        "])),(l()(),u._27(-1,null,["\n                    "])),(l()(),u._27(-1,null,["\n                "])),(l()(),u._27(-1,null,["\n                "])),(l()(),u._5(50,0,null,null,6,"div",[["class","form_group"]],null,null,null,null,null)),u._4(51,278528,null,0,c.k,[u.q,u.r,u.k,u.C],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),u._22(52,{hide:0}),(l()(),u._27(-1,null,["\n                    "])),(l()(),u._5(54,0,null,null,1,"div",[["class","form_error"]],null,null,null,null,null)),(l()(),u._27(55,null,["",""])),(l()(),u._27(-1,null,["\n                "])),(l()(),u._27(-1,null,["\n            "])),(l()(),u._27(-1,null,["\n        "])),(l()(),u._27(-1,null,["\n        "])),(l()(),u._27(-1,null,["\n\n        "])),(l()(),u._5(61,0,null,null,18,"div",[["class","container"]],null,null,null,null,null)),(l()(),u._27(-1,null,["\n            "])),(l()(),u._5(63,0,null,null,0,"div",[["class","clearfix mb30"]],null,null,null,null,null)),(l()(),u._27(-1,null,["\n            "])),(l()(),u._5(65,0,null,null,8,"div",[["class","btn_group"]],null,null,null,null,null)),(l()(),u._27(-1,null,["\n                "])),(l()(),u._5(67,0,null,null,4,"a",[["class","btn btn-block btn-success"],["data-toggle","modal"],["href",".modal-notice"]],null,[[null,"click"]],function(l,n,t){var u=!0;return"click"===n&&(u=!1!==l.component.doClick(t,"save")&&u),u},null,null)),(l()(),u._5(68,0,null,null,3,"i18n",[["translate","notice_ag009.00001102"]],null,null,null,e.b,e.a)),u._4(69,81920,null,0,a.a,[u.k,o.b],{bundleKey:[0,"bundleKey"]},null),u._4(70,114688,null,0,s.a,[],null,null),(l()(),u._27(-1,null,["\u5132\u5b58\u8a2d\u5b9a"])),(l()(),u._27(-1,null,["\n                "])),(l()(),u._27(-1,null,["\n            "])),(l()(),u._27(-1,null,["\n            "])),(l()(),u._5(75,0,null,null,0,"div",[["class","clearfix mb20"]],null,null,null,null,null)),(l()(),u._27(-1,null,["\n            "])),(l()(),u._5(77,0,null,null,1,"memo-remarks",[],null,null,null,r.b,r.a)),u._4(78,4964352,null,0,g.a,[],{key:[0,"key"],format:[1,"format"]},null),(l()(),u._27(-1,null,["\n        "])),(l()(),u._27(-1,null,["\n\n    "])),(l()(),u._27(-1,null,["\n"])),(l()(),u._27(-1,null,["\n"])),(l()(),u._27(-1,null,["\n"]))],function(l,n){var t=n.component;l(n,16,0,"notice_ag009.00005789"),l(n,17,0),l(n,27,0,l(n,28,0,t.notice.isEmailFlagOn)),l(n,34,0,l(n,35,0,t.notice.isPushFlagOn)),l(n,37,0,"notice_ag009.00002612"),l(n,38,0),l(n,42,0,"notice_ag009.00002891"),l(n,43,0),l(n,51,0,"form_group",l(n,52,0,""===t.warningMsg)),l(n,69,0,"notice_ag009.00001102"),l(n,70,0),l(n,78,0,"TWRBMNoticeAG009_010_memo",1)},function(l,n){l(n,55,0,n.component.warningMsg)})}var f=u._1("twrbm-notice-ag009-010",h,function(l){return u._29(0,[(l()(),u._5(0,0,null,null,1,"twrbm-notice-ag009-010",[],null,null,null,d,p)),u._4(1,4440064,null,0,h,[],null,null)],function(l,n){l(n,1,0)},null)},{},{},[]),m=t("0nO6"),v=t("TvUf"),y=t("4SdM"),F=t("UtI1"),O=t("v7k6"),b=t("Xb6M"),E=t("3glH"),k=t("UHIZ"),P=function(){};t.d(n,"TWRBMNOTICEAG009ModuleNgFactory",function(){return C});var C=u._2(i,[],function(l){return u._16([u._17(512,u.j,u.X,[[8,[f]],[3,u.j],u.v]),u._17(4608,c.o,c.n,[u.s,[2,c.x]]),u._17(4608,m.B,m.B,[]),u._17(4608,m.g,m.g,[]),u._17(512,c.b,c.b,[]),u._17(512,m.y,m.y,[]),u._17(512,m.l,m.l,[]),u._17(512,m.w,m.w,[]),u._17(512,v.a,v.a,[]),u._17(512,y.a,y.a,[]),u._17(512,F.a,F.a,[]),u._17(512,O.a,O.a,[]),u._17(512,b.a,b.a,[]),u._17(512,E.a,E.a,[]),u._17(512,k.l,k.l,[[2,k.q],[2,k.k]]),u._17(512,P,P,[]),u._17(512,i,i,[]),u._17(1024,k.i,function(){return[[{path:"",redirectTo:"010",pathMatch:"full"},{path:"010",component:h}]]},[])])})}});